# Vulnerability Management with Qualys

## Objectives:
- To install and deploy Qualys Virtual Scanner Appliance and access it through the Qualys cloud Platform.
- Execute the vulnerability management lifecycle in a virtualized environment which is comprised of the following stages: Discovery, Priotization, Assessment, Reporting, Remediation, and Verification.
- Leverage Qualys to manage vulnerability scanning and address identified vulnerabilities.
- Detect deprecated software on a Windows 8.1 machine, remediate vulnerabilities, and verify the vulnerability doesnâ€™t exist anymore.

## Required Resources:
- A PC with internet access
- Qualys community edition

**Task 1: Register and Download the Qualys software**

a. Visit https://qualysguard.qg2.apps.qualys.eu/ and sign up with a company email.

b. Click the link in the received mail to download the Qualys ova file.

c. Import the Ova file into a virtual machine( Vmware/Virtualbox).

![image](https://i.imgur.com/K4hLQGh.png)

![image](https://i.imgur.com/e6syh3J.png)

**Task 2: Assign a Static IP address to the target host**

a. Click start on the Windows machine( target host), go to Control Panel > Network and Sharing Center > ethernet > properties > TCP/IP.

b. Click assign IP manually and enter the IP address, Subnet Mask, and Default Gateway.

![image](https://i.imgur.com/HDDkoPC.png)

** Task 3: Perform Non-authenticated scan**

a. On the Qualys Dashboard, click scans > option profiles > new > option profiles.

b. Enter the target host IP address and click Launch.

![image](https://i.imgur.com/7uMRqNn.png)


**Scan Result**
![image](https://i.imgur.com/BgqQVvm.png)
![image](https://i.imgur.com/toLdcfG.png?1)
![image](https://i.imgur.com/sr86EIs.png)
![image](https://i.imgur.com/henEQw4.png)

** Task 4: Perform authenticated scan**

Firstly, the Windows machine is prepared for authenticated scan by doing the following:

a. Turn on Remote registry: go to services > remote registry > properties.

b. Change the setting to automatic.
![image](https://i.imgur.com/2sFCQ4k.png)

c. Under services, select server and change the setting to automatic too.

d. Go to Sharing options and turn on Network discovery, file, and printer discovery.
![image](https://i.imgur.com/PmQhvrr.png)

e. Go to User Account Control Settings, drag it all the way down and click OK.
![image](https://i.imgur.com/zfZWA3i.png)

f. Edit the Windows Registry: Click Start > regedit > HKEY_LOCAL_MACHINE > SOFTWARE > Microsoft > Windows > CurrentVersion > Policies > System.

g. Right-click and select new > DWORD(32-bit) value: set value name to LocalAccountTokenFilterPolicy and set value to 1.
![image](https://i.imgur.com/rP4OFTW.png)

**Task 5: Launch an Authenticated Scan**

a. Go back to Qualys Dashboard. Click authentication > new > O.S > windows > login credentials.

b. enter the username and password.
![image](https://i.imgur.com/uxudmri.png)

c. Go to option profiles, select the initial configuration > scan > edit > authentication > windows.

d. perform the scan again.
